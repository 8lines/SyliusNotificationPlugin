(()=>{"use strict";function t(i){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(i)}function i(i,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,(o=a.key,r=void 0,r=function(i,e){if("object"!==t(i)||null===i)return i;var n=i[Symbol.toPrimitive];if(void 0!==n){var a=n.call(i,e||"default");if("object"!==t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(i)}(o,"string"),"symbol"===t(r)?r:String(r)),a)}var o,r}(new(function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.notificationVariablesElement=$('[data-type="notification-variables"]'),this.notificationVariablesListElement=$('[data-type="notification-variables-list"]'),this.notificationVariablesLoaderElement=this.notificationVariablesElement.find('[data-type="loader"]'),this.notificationEventCodeElement=$('[data-type="notification-event-code"]'),this.lastNotificationEventCode=""}var e,n,a;return e=t,(n=[{key:"init",value:function(){var t=this;this.updateNotificationEventVariables(),this.notificationEventCodeElement.on("change",(function(i){return t.updateNotificationEventVariables(i)}))}},{key:"updateNotificationEventVariables",value:function(){var t=this,i=this.notificationEventCodeElement.val();this.lastNotificationEventCode!==i&&(this.notificationVariablesLoaderElement.addClass("active"),this.notificationVariablesListElement.html(""),$.ajax({url:"/admin/ajax/notification-event-variables/search-all?event=".concat(i)}).done((function(e){$.each(e.variables,(function(e,n){t.notificationVariablesListElement.append("<li><code>{".concat(n.name,"}</code> - ").concat(n.description,"</li>")),t.notificationVariablesLoaderElement.removeClass("active"),t.lastNotificationEventCode=i}))})))}}])&&i(e.prototype,n),a&&i(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}())).init()})();